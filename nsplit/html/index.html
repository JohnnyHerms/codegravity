<html>
    <head>
        <title>Code Gravity</title>
        <link href="css/index.css" rel="stylesheet" />
    </head>
    <body>
        <div id="middle">
            <h2>Your assembly is beeng analyzed</h2>
            <div id="progress">1%</div>
            <p>You will be redirected automatically when dependency graph is complete.</p>
            <p>You can still click <a href="main.html"><img src="css/go-icon.png"/></a> to continue anyway and see the incomplete dependency graph.</p>
            <p>You can reload the graph (F5) anytime, newly discovered dependencies will show up.</p>
            <p>Use mouse wheel to zoom, drag to pan.</p>
            <p>You can also:</p>
            <ul>
                <li>mouse over nodes</li>
                <li>click nodes</li>
                <li>drag nodes</li>
                <li>expand/collapse the tree</li>
                <li>check/uncheck tree nodes</li>
            </ul>
        </div>
    </body>
    
    <script src="js/lib/jquery.js"> </script> 
    <script>
        $(document).ready(function () {
            getPorgress();
        });
        
        function getPorgress() {
            $.getJSON("api/dependencies/progress", function (data) {
                $("#progress").text(data + "%");
                if (data == 100) window.location.href = "main.html";
                else setTimeout(getPorgress, 200);
            });
        }
    </script>   
</html>